var Game=function(){function t(t,i,e){var n=this;this.context=t,this.width=i,this.height=e,this.sprites=[],this.renderer=new Engine.Renderer(t,i,e,function(t){n.renderWorld(t)});var r=new Engine.Sprite(150,150,80,78,"images/meteor.png");r.frames=4,r.fps=10,this.sprites.push(r)}return t.prototype.start=function(){this.renderer.start()},t.prototype.stop=function(){this.renderer.stop()},t.prototype.renderWorld=function(t){var i=this;this.sprites.forEach(function(e){e.render(i.context,t)})},t}(),Engine;!function(t){var i=function(){function t(t,i,e,n){this.context=t,this.width=i,this.height=e,this.render=n,this.fpsInterval=1e3/30}return t.prototype.start=function(){var t=this;this.running=!0,this.animationFrame=window.requestAnimationFrame(function(i){return t.renderLoop(i)})},t.prototype.renderLoop=function(t){var i=this;null!=this.lastTimestamp&&void 0!=this.lastTimestamp||(this.lastTimestamp=t);var e=t-this.lastTimestamp;this.running&&(this.clear(),this.animate(),this.render(e),this.lastTimestamp=t,window.requestAnimationFrame(function(t){return i.renderLoop(t)}))},t.prototype.animate=function(){this.context.fillStyle="#000000",this.context.font="25px helvewtica",this.context.fillText("This is just a test",100,100)},t.prototype.stop=function(){this.clear(),window.cancelAnimationFrame(this.animationFrame),this.running=!1},t.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},t}();t.Renderer=i}(Engine||(Engine={}));var Engine;!function(t){var i=function(){function t(t,i,e,n,r,s,h){this.x=t,this.y=i,this.frameWidth=e,this.frameHeight=n,this.image=new Image,this.image.src=r,this.currentFrame=0,this.frames=s,this.fps=h,this.lastTimestamp=0}return t.prototype.render=function(t,i){null!=this.frames&&i>1e3/this.fps&&this.animate(t),t.drawImage(this.image,this.currentFrame*this.frameWidth,0,this.frameWidth,this.image.height,this.x,this.y,this.frameWidth,this.image.height)},t.prototype.animate=function(t){this.currentFrame++,this.currentFrame>=this.frames&&(this.currentFrame=0)},t}();t.Sprite=i}(Engine||(Engine={}));