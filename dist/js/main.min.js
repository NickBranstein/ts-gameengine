var Game=function(){function t(t,e,i){var n=this;this.context=t,this.width=e,this.height=i,this.sprites=[],this.renderer=new Engine.Renderer(t,e,i,function(t){n.renderWorld(t)});var r=new Engine.Sprite(150,150,80,78,"images/meteor.png");r.frames=4,r.speed=100,this.sprites.push(r)}return t.prototype.start=function(){this.renderer.start()},t.prototype.stop=function(){this.renderer.stop()},t.prototype.renderWorld=function(t){var e=this;this.sprites.forEach(function(i){i.render(e.context,t)})},t}(),Engine;!function(t){var e=function(){function t(t,e,i,n){var r=this;this.context=t,this.width=e,this.height=i,this.render=n,this.renderLoop=function(t){null===r.lastTimestamp&&(r.lastTimestamp=t);var e=t=r.lastTimestamp;r.lastTimestamp=t,r.running&&(r.clear(),r.animate(),r.render(e),window.requestAnimationFrame(r.renderLoop))}}return t.prototype.start=function(){this.running=!0,this.animationFrame=window.requestAnimationFrame(this.renderLoop)},t.prototype.animate=function(){this.context.fillStyle="#000000",this.context.font="25px helvewtica",this.context.fillText("This is just a test",100,100)},t.prototype.stop=function(){this.clear(),window.cancelAnimationFrame(this.animationFrame),this.running=!1},t.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},t}();t.Renderer=e}(Engine||(Engine={}));var Engine;!function(t){var e=function(){function t(t,e,i,n,r,s,h){this.x=t,this.y=e,this.frameWidth=i,this.frameHeight=n,this.image=new Image,this.image.src=r,this.currentFrame=0,this.frames=s,this.speed=h}return t.prototype.render=function(t,e){for(this.lastElapsedTime+=e;this.lastElapsedTime>this.speed;)null!=this.frames&&this.animate(t),this.lastElapsedTime-=this.speed;t.drawImage(this.image,this.currentFrame*this.frameWidth,0,this.frameWidth,this.image.height,this.x,this.y,this.frameWidth,this.image.height)},t.prototype.animate=function(t){this.currentFrame++,this.currentFrame>=this.frames&&(this.currentFrame=0)},t}();t.Sprite=e}(Engine||(Engine={}));