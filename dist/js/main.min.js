var Game=function(){function t(t,i,e){var n=this;this.context=t,this.width=i,this.height=e,this.sprites=[],this.renderer=new Engine.Renderer(t,i,e,function(t){n.renderWorld(t)});var r=new Engine.Sprite(150,150,80,78,"images/meteor.png");r.frames=4,r.fps=5,this.sprites.push(r);var s=new Engine.Sprite(300,150,80,78,"images/meteor.png");s.frames=4,s.fps=20,this.sprites.push(s)}return t.prototype.start=function(){this.renderer.start()},t.prototype.stop=function(){this.renderer.stop()},t.prototype.renderWorld=function(t){var i=this;this.sprites.forEach(function(e){e.render(i.context,t)})},t}(),Engine;!function(t){var i=function(){function t(t,i,e,n){this.context=t,this.width=i,this.height=e,this.render=n}return t.prototype.start=function(){var t=this;this.running=!0,this.animationFrame=window.requestAnimationFrame(function(i){return t.renderLoop(i)})},t.prototype.renderLoop=function(t){var i=this;this.running&&(this.clear(),this.render(t),window.requestAnimationFrame(function(t){return i.renderLoop(t)}))},t.prototype.stop=function(){this.clear(),window.cancelAnimationFrame(this.animationFrame),this.running=!1},t.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},t}();t.Renderer=i}(Engine||(Engine={}));var Engine;!function(t){var i=function(){function t(t,i,e,n,r,s,h){this.x=t,this.y=i,this.frameWidth=e,this.frameHeight=n,this.image=new Image,this.image.src=r,this.currentFrame=0,this.frames=s,this.fps=h,this.lastTimestamp=0}return t.prototype.render=function(t,i){null!=this.lastTimestamp&&void 0!=this.lastTimestamp||(this.lastTimestamp=i);var e=i-this.lastTimestamp;null!=this.frames&&e>1e3/this.fps&&(this.animate(t),this.lastTimestamp=i),t.drawImage(this.image,this.currentFrame*this.frameWidth,0,this.frameWidth,this.image.height,this.x,this.y,this.frameWidth,this.image.height)},t.prototype.animate=function(t){++this.currentFrame>=this.frames&&(this.currentFrame=0)},t}();t.Sprite=i}(Engine||(Engine={}));